<div class="container">
    <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!loading">
      <mat-form-field class="field">
        <mat-label>Enter your e-mail</mat-label>
        <input matInput formControlName="email">
      </mat-form-field>
        
      <mat-form-field class="field">
        <mat-label>Enter your password</mat-label>
        <input type="password" matInput formControlName="password">
      </mat-form-field>

      <mat-form-field class="field">
        <mat-label>Confirm password</mat-label>
        <input type="password" matInput formControlName="confirm" [errorStateMatcher]="matcher">
        <mat-error *ngIf="form.hasError('notSame')">
          Passwords do not match
        </mat-error>  
      </mat-form-field>
  
      <button mat-button color="primary" [disabled]='!form.valid'>Register</button>
    </form>
    <mat-spinner class="spinner" *ngIf="loading"></mat-spinner>
</div>