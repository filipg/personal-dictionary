<div class="container">
    <ng-container *ngIf="loading; then spinner; else content"></ng-container>

    <ng-template #spinner>
        <mat-spinner class="spinner"></mat-spinner>
    </ng-template>

    <ng-template #content>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" *ngIf="!loading">
            <div formArrayName="items" *ngFor="let item of form.get('items').controls; let i = index;">
                <div [formGroupName]="i">
                    <input formControlName="name" placeholder="Item name">
                </div>
            </div>

            <button mat-button color="primary">Submit</button>
        </form>
    </ng-template>
</div>